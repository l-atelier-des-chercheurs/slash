import{n as o,A as r}from"../build.js";import{D as i}from"./DynamicTitle-CpTdDlYg.js";import{F as n}from"./FoldersListWithFilter-DWnu_erJ.js";const h={props:{},mixins:[i],components:{AuthorCard:r,FoldersListWithFilter:n},data(){return{path:"authors",authors:[]}},created(){},async mounted(){this.updateDocumentTitle(this.$t("list_of_accounts")),this.$api.updateSelfPath(this.path),this.authors=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{filtered_authors_count(){return this.$refs.foldersList&&this.$refs.foldersList.filtered_folders?this.$refs.foldersList.filtered_folders.length:this.authors.length}},methods:{}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_authorsView"},[e("h1",{staticClass:"_title",domProps:{textContent:t._s(t.$t("list_of_accounts"))}}),e("FoldersListWithFilter",{ref:"foldersList",attrs:{folders:t.authors,folder_type:"author",path:t.path,can_edit:!1,empty_message:t.$t("no_accounts_to_show"),available_view_modes:["list","medium","map"]},scopedSlots:t._u([{key:"list-header",fn:function(){return[e("div",{staticClass:"u-spacingBottom"},[t._v(" "+t._s(t.$t("accounts_displayed",{count:t.filtered_authors_count,total:t.authors.length}))+" ")]),t.$api.other_devices_connected.length>=1?e("div",{staticClass:"_currentlyConnected"},[e("DetailsPane",{attrs:{header:t.$t("other_devices_connected"),icon:"people",has_items:t.$api.other_devices_connected.length}},t._l(t.$api.other_devices_connected,function(s,a){return e("div",{key:s.id,staticClass:"u-spacingBottom"},[a!==0?e("hr"):t._e(),e("div",[s.meta.token_path?e("AuthorTag",{attrs:{path:s.meta.token_path}}):e("span",[t._v(t._s(t.$t("not_logged_in")))])],1),e("DLabel",{attrs:{str:t.$t("opened_page")}}),s.meta.path?e("router-link",{staticClass:"u-buttonLink",attrs:{to:{path:t.createURLFromPath(s.meta.path)}}},[t._v(" "+t._s(t.$t("open"))+" ")]):t._e()],1)}),0)],1):t._e()]},proxy:!0},{key:"item",fn:function({item:s}){return[e("div",{staticClass:"_authorItem"},[e("AuthorCard",{attrs:{author:s}})],1)]}}])})],1)},l=[],c=o(h,_,l,!1,null,"78ca6a7e");const m=c.exports;export{m as default};
