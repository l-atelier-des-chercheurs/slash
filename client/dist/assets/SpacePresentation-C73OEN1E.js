import{n,B as i}from"../build.js";import{P as c}from"./ProjectPresentation-iBZnXivM.js";const o={props:{space:Object,context:String,position_in_list:String,can_edit:Boolean},components:{BinFolder:i,ProjectPresentation:c},data(){return{show_bin_modal:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_own_space(){return this.isOwnItem({folder:this.space})}},methods:{async removeSpace(){try{const s=await this.$api.deleteItem({path:this.space.$path})}catch{}}}};var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_spacePresentation",class:{"is--own":t.is_own_space,"u-card2":["medium","tiny"].includes(t.context)},attrs:{"data-context":t.context}},[e("div",{staticClass:"_spaceCover"},[e("CoverField",{attrs:{context:t.context,cover:t.space.$cover,path:t.space.$path,ratio:"square",can_edit:t.can_edit}}),e("transition",{attrs:{name:"toggleLock",mode:"out-in"}},[t.space.$status==="private"?e("StatusTag",{key:t.space.$status,staticClass:"_icon",attrs:{show_label:!1,status:t.space.$status,can_edit:!1,mode:"inactive"}}):t._e()],1)],1),e("div",{staticClass:"_textBloc"},[t.can_edit?e("div",{staticClass:"_statusOptions"},[e("StatusTag",{attrs:{status:t.space.$status||"public",status_options:["public","private"],path:t.space.$path,can_edit:t.can_edit}}),e("DropDown",{attrs:{show_label:!1,right:!0}},[e("DownloadFolder",{attrs:{modal_title:t.$t("download_space",{name:t.space.title}),path:t.space.$path}}),e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(a){t.show_bin_modal=!0}}},[e("b-icon",{attrs:{icon:"recycle"}}),t._v(" "+t._s(t.$t("bin"))+" ")],1),t.show_bin_modal?e("BinFolder",{attrs:{modal_title:t.$t("restore_projects"),path:t.space.$path+"/projects"},on:{close:function(a){t.show_bin_modal=!1}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("ProjectPresentation",{attrs:{project:a.project,context:a.context,display_original_space:a.display_original_space,can_edit:a.can_edit}})]}}],null,!1,2636321564)}):t._e(),t.$root.app_infos.is_electron&&t.is_instance_admin?e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(a){return t.openInFinder({path:t.space.$path})}}},[e("b-icon",{attrs:{icon:"folder-symlink"}}),t._v(" "+t._s(t.$t("open_in_finder"))+" ")],1):t._e(),e("RemoveMenu",{attrs:{modal_title:t.$t("remove_space",{name:t.space.title})},on:{remove:t.removeSpace}})],1)],1):t._e(),e("div",{},[e("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:t.$t("space_title"),show_label:t.context==="full"&&t.can_edit,tag:t.context==="full"?"h1":["medium"].includes(t.context)?"h2":"h3",content:t.space.title,path:t.space.$path,required:!0,maxlength:40,can_edit:t.can_edit}}),t.can_edit||t.space.subtitle?e("TitleField",{staticClass:"_subtitle",attrs:{field_name:"subtitle",label:t.$t("subtitle"),show_label:t.context==="full"&&t.can_edit,content:t.space.subtitle,path:t.space.$path,maxlength:280,can_edit:t.can_edit}}):t._e()],1),t.context==="full"&&(t.space.description||t.can_edit)?e("TitleField",{attrs:{label:t.$t("description"),show_label:t.context==="full",field_name:"description",input_type:"editor",custom_formats:["bold","italic","link","emoji"],content:t.space.description,path:t.space.$path,maxlength:1280,can_edit:t.can_edit}}):t._e(),t.context==="full"?e("AdminsAndContributorsField",{attrs:{folder:t.space,can_edit:t.can_edit,admin_label:t.$t("referent"),admin_instructions:t.$t("space_admin_instructions"),contrib_instructions:t.$t("space_contrib_instructions")}}):t._e()],1),["medium","tiny"].includes(t.context)?e("router-link",{staticClass:"js--showCursor _openSpace",attrs:{to:{path:t.createURLFromPath(t.space.$path)},title:t.$t("open")+" "+t.space.title}}):t._e()],1)},r=[],_=n(o,l,r,!1,null,"81539326");const u=_.exports;export{u as S};
