var Ut="function",Gt="object",$t="string",Dt="undefined",Kt=typeof document!==Dt&&document,Jt=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],q={cm:function(a){return a*96/2.54},mm:function(a){return a*96/254},in:function(a){return a*96},pt:function(a){return a*96/72},pc:function(a){return a*96/6},"%":function(a,i){return a*i/100},vw:function(a,i){return i===void 0&&(i=window.innerWidth),a/100*i},vh:function(a,i){return i===void 0&&(i=window.innerHeight),a/100*i},vmax:function(a,i){return i===void 0&&(i=Math.max(window.innerWidth,window.innerHeight)),a/100*i},vmin:function(a,i){return i===void 0&&(i=Math.min(window.innerWidth,window.innerHeight)),a/100*i}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Qt(){for(var a=0,i=0,n=arguments.length;i<n;i++)a+=arguments[i].length;for(var e=Array(a),t=0,i=0;i<n;i++)for(var o=arguments[i],r=0,s=o.length;r<s;r++,t++)e[t]=o[r];return e}function Be(a){return typeof a===Dt}function F(a){return a&&typeof a===Gt}function V(a){return Array.isArray(a)}function Tt(a){return typeof a===$t}function te(a){return typeof a===Ut}function ee(a,i){var n=a===""||a==" ",e=i===""||i==" ";return e&&n||a===i}function xt(a,i,n,e,t){var o=lt(a,i,n);return o?n:re(a,i,n+1,e,t)}function lt(a,i,n){if(!a.ignore)return null;var e=i.slice(Math.max(n-3,0),n+3).join("");return new RegExp(a.ignore).exec(e)}function re(a,i,n,e,t){for(var o=function(c){var f=i[c].trim();if(f===a.close&&!lt(a,i,c))return{value:c};var h=c,l=rt(t,function(g){var d=g.open;return d===f});if(l&&(h=xt(l,i,c,e,t)),h===-1)return r=c,"break";c=h,r=c},r,s=n;s<e;++s){var u=o(s);if(s=r,typeof u=="object")return u.value;if(u==="break")break}return-1}function Mt(a,i){var n=Tt(i)?{separator:i}:i,e=n.separator,t=e===void 0?",":e,o=n.isSeparateFirst,r=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,u=s===void 0?r:s,c=n.openCloseCharacters,f=c===void 0?Jt:c,h=f.map(function(E){var Y=E.open,X=E.close;return Y===X?Y:Y+"|"+X}).join("|"),l="(\\s*"+t+"\\s*|"+h+"|\\s+)",g=new RegExp(l,"g"),d=a.split(g).filter(function(E){return E&&E!=="undefined"}),m=d.length,v=[],_=[];function p(){return _.length?(v.push(_.join("")),_=[],!0):!1}for(var S=function(E){var Y=d[E].trim(),X=E,O=rt(f,function(T){var P=T.open;return P===Y}),R=rt(f,function(T){var P=T.close;return P===Y});if(O){if(X=xt(O,d,E,m,f),X!==-1&&u)return p()&&o||(v.push(d.slice(E,X+1).join("")),E=X,o)?(w=E,"break"):(w=E,"continue")}else if(R&&!lt(R,d,E)){var x=Qt(f);return x.splice(f.indexOf(R),1),{value:Mt(a,{separator:t,isSeparateFirst:o,isSeparateOnlyOpenClose:r,isSeparateOpenClose:u,openCloseCharacters:x})}}else if(ee(Y,t)&&!r)return p(),o?(w=E,"break"):(w=E,"continue");X===-1&&(X=m-1),_.push(d.slice(E,X+1).join("")),E=X,w=E},w,y=0;y<m;++y){var C=S(y);if(y=w,typeof C=="object")return C.value;if(C==="break")break}return _.length&&v.push(_.join("")),v}function ne(a){return Mt(a,",")}function ie(a){var i=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(a);if(!i)return{prefix:"",unit:"",value:NaN};var n=i[1],e=i[2],t=i[3];return{prefix:n,unit:t,value:parseFloat(e)}}function oe(a){return a.replace(/[\s-_]+([^\s-_])/g,function(i,n){return n.toUpperCase()})}function pt(){return Date.now?Date.now():new Date().getTime()}function At(a,i,n){n===void 0&&(n=-1);for(var e=a.length,t=0;t<e;++t)if(i(a[t],t,a))return t;return n}function rt(a,i,n){var e=At(a,i);return e>-1?a[e]:n}function L(a,i){var n=ie(a),e=n.value,t=n.unit;if(F(i)){var o=i[t];if(o){if(te(o))return o(e);if(q[t])return q[t](e,o)}}else if(t==="%")return e*i/100;return q[t]?q[t](e):e}function B(a,i,n){return Math.max(i,Math.min(a,n))}function ae(a,i){var n=1/i;return Math.round(a/i)/n}function H(a,i){a.classList?a.classList.add(i):a.className+=" "+i}function b(a,i,n,e){a.addEventListener(i,n,e)}function z(a,i,n,e){a.removeEventListener(i,n,e)}function ct(a){return(a==null?void 0:a.ownerDocument)||Kt}function I(a){var i;return((i=a==null?void 0:a.ownerDocument)===null||i===void 0?void 0:i.defaultView)||window}function se(a){return a&&"postMessage"in a&&"blur"in a&&"self"in a}function dt(a){return F(a)&&a.nodeName&&a.nodeType&&"ownerDocument"in a}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nt=function(){return nt=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},nt.apply(this,arguments)};function le(){for(var a=0,i=0,n=arguments.length;i<n;i++)a+=arguments[i].length;for(var e=Array(a),t=0,i=0;i<n;i++)for(var o=arguments[i],r=0,s=o.length;r<s;r++,t++)e[t]=o[r];return e}var ut=function(){function a(){this._events={}}var i=a.prototype;return i.on=function(n,e){if(F(n))for(var t in n)this.on(t,n[t]);else this._addEvent(n,e,{});return this},i.off=function(n,e){if(!n)this._events={};else if(F(n))for(var t in n)this.off(t);else if(!e)this._events[n]=[];else{var o=this._events[n];if(o){var r=At(o,function(s){return s.listener===e});r>-1&&o.splice(r,1)}}return this},i.once=function(n,e){var t=this;return e&&this._addEvent(n,e,{once:!0}),new Promise(function(o){t._addEvent(n,o,{once:!0})})},i.emit=function(n,e){var t=this;e===void 0&&(e={});var o=this._events[n];if(!n||!o)return!0;var r=!1;return e.eventType=n,e.stop=function(){r=!0},e.currentTarget=this,le(o).forEach(function(s){s.listener(e),s.once&&t.off(n,s.listener)}),!r},i.trigger=function(n,e){return e===void 0&&(e={}),this.emit(n,e)},i._addEvent=function(n,e,t){var o=this._events;o[n]=o[n]||[];var r=o[n];r.push(nt({listener:e},t))},a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var it=function(a,i){return it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},it(a,i)};function ce(a,i){it(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var D=function(){return D=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},D.apply(this,arguments)};function ue(a,i){var n=i[0]-a[0],e=i[1]-a[1],t=Math.atan2(e,n);return t>=0?t:t+Math.PI*2}function Q(a){return ue([a[0].clientX,a[0].clientY],[a[1].clientX,a[1].clientY])/Math.PI*180}function he(a){return a.touches&&a.touches.length>=2}function U(a){return a?a.touches?ve(a.touches):[Ot(a)]:[]}function fe(a){return a&&(a.type.indexOf("mouse")>-1||"button"in a)}function mt(a,i,n){var e=n.length,t=Z(a,e),o=t.clientX,r=t.clientY,s=t.originalClientX,u=t.originalClientY,c=Z(i,e),f=c.clientX,h=c.clientY,l=Z(n,e),g=l.clientX,d=l.clientY,m=o-f,v=r-h,_=o-g,p=r-d;return{clientX:s,clientY:u,deltaX:m,deltaY:v,distX:_,distY:p}}function tt(a){return Math.sqrt(Math.pow(a[0].clientX-a[1].clientX,2)+Math.pow(a[0].clientY-a[1].clientY,2))}function ve(a){for(var i=Math.min(a.length,2),n=[],e=0;e<i;++e)n.push(Ot(a[e]));return n}function Ot(a){return{clientX:a.clientX,clientY:a.clientY}}function Z(a,i){i===void 0&&(i=a.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},e=Math.min(a.length,i),t=0;t<e;++t){var o=a[t];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return i?{clientX:n.clientX/i,clientY:n.clientY/i,originalClientX:n.originalClientX/i,originalClientY:n.originalClientY/i}:n}var et=function(){function a(i){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=i,this.prevClients=i,this.length=i.length}return a.prototype.getAngle=function(i){return i===void 0&&(i=this.prevClients),Q(i)},a.prototype.getRotation=function(i){return i===void 0&&(i=this.prevClients),Q(i)-Q(this.startClients)},a.prototype.getPosition=function(i,n){i===void 0&&(i=this.prevClients);var e=mt(i||this.prevClients,this.prevClients,this.startClients),t=e.deltaX,o=e.deltaY;return this.movement+=Math.sqrt(t*t+o*o),this.prevClients=i,e},a.prototype.getPositions=function(i){i===void 0&&(i=this.prevClients);for(var n=this.prevClients,e=this.startClients,t=Math.min(this.length,n.length),o=[],r=0;r<t;++r)o[r]=mt([i[r]],[n[r]],[e[r]]);return o},a.prototype.getMovement=function(i){var n=this.movement;if(!i)return n;var e=Z(i,this.length),t=Z(this.prevClients,this.length),o=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(o*o+r*r)+n},a.prototype.getDistance=function(i){return i===void 0&&(i=this.prevClients),tt(i)},a.prototype.getScale=function(i){return i===void 0&&(i=this.prevClients),tt(i)/tt(this.startClients)},a.prototype.move=function(i,n){this.startClients.forEach(function(e){e.clientX-=i,e.clientY-=n}),this.prevClients.forEach(function(e){e.clientX-=i,e.clientY-=n})},a}(),_t=["textarea","input"],Rt=function(a){ce(i,a);function i(n,e){e===void 0&&(e={});var t=a.call(this)||this;t.options={},t.flag=!1,t.pinchFlag=!1,t.data={},t.isDrag=!1,t.isPinch=!1,t.clientStores=[],t.targets=[],t.prevTime=0,t.doubleFlag=!1,t._useMouse=!1,t._useTouch=!1,t._useDrag=!1,t._dragFlag=!1,t._isTrusted=!1,t._isMouseEvent=!1,t._isSecondaryButton=!1,t._preventMouseEvent=!1,t._prevInputEvent=null,t._isDragAPI=!1,t._isIdle=!0,t._preventMouseEventId=0,t._window=window,t.onDragStart=function(l,g){if(g===void 0&&(g=!0),!(!t.flag&&l.cancelable===!1)){var d=l.type.indexOf("drag")>=-1;if(!(t.flag&&d)){t._isDragAPI=!0;var m=t.options,v=m.container,_=m.pinchOutside,p=m.preventWheelClick,S=m.preventRightClick,w=m.preventDefault,y=m.checkInput,C=m.dragFocusedInput,E=m.preventClickEventOnDragStart,Y=m.preventClickEventOnDrag,X=m.preventClickEventByCondition,O=t._useTouch,R=!t.flag;if(t._isSecondaryButton=l.which===3||l.button===2,p&&(l.which===2||l.button===1)||S&&(l.which===3||l.button===2))return t.stop(),!1;if(R){var x=t._window.document.activeElement,T=l.target;if(T){var P=T.tagName.toLowerCase(),$=_t.indexOf(P)>-1,N=T.isContentEditable;if($||N){if(y||!C&&x===T)return!1;if(x&&(x===T||N&&x.isContentEditable&&x.contains(T)))if(C)T.blur();else return!1}else if((w||l.type==="touchstart")&&x){var K=x.tagName.toLowerCase();(x.isContentEditable||_t.indexOf(K)>-1)&&x.blur()}(E||Y||X)&&b(t._window,"click",t._onClick,!0)}t.clientStores=[new et(U(l))],t._isIdle=!1,t.flag=!0,t.isDrag=!1,t._isTrusted=g,t._dragFlag=!0,t._prevInputEvent=l,t.data={},t.doubleFlag=pt()-t.prevTime<200,t._isMouseEvent=fe(l),!t._isMouseEvent&&t._preventMouseEvent&&t._allowMouseEvent();var J=t._preventMouseEvent||t.emit("dragStart",D(D({data:t.data,datas:t.data,inputEvent:l,isMouseEvent:t._isMouseEvent,isSecondaryButton:t._isSecondaryButton,isTrusted:g,isDouble:t.doubleFlag},t.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){t._dragFlag=!1}}));J===!1&&t.stop(),t._isMouseEvent&&t.flag&&w&&l.preventDefault()}if(!t.flag)return!1;var gt=0;if(R?(t._attchDragEvent(),O&&_&&(gt=setTimeout(function(){b(v,"touchstart",t.onDragStart,{passive:!1})}))):O&&_&&z(v,"touchstart",t.onDragStart),t.flag&&he(l)){if(clearTimeout(gt),R&&l.touches.length!==l.changedTouches.length)return;t.pinchFlag||t.onPinchStart(l)}}}},t.onDrag=function(l,g){if(t.flag){var d=t.options.preventDefault;!t._isMouseEvent&&d&&l.preventDefault(),t._prevInputEvent=l;var m=U(l),v=t.moveClients(m,l,!1);if(t._dragFlag){if(t.pinchFlag||v.deltaX||v.deltaY){var _=t._preventMouseEvent||t.emit("drag",D(D({},v),{isScroll:!!g,inputEvent:l}));if(_===!1){t.stop();return}}t.pinchFlag&&t.onPinch(l,m)}t.getCurrentStore().getPosition(m,!0)}},t.onDragEnd=function(l){if(t.flag){var g=t.options,d=g.pinchOutside,m=g.container,v=g.preventClickEventOnDrag,_=g.preventClickEventOnDragStart,p=g.preventClickEventByCondition,S=t.isDrag;(v||_||p)&&requestAnimationFrame(function(){t._allowClickEvent()}),!p&&!_&&v&&!S&&t._allowClickEvent(),t._useTouch&&d&&z(m,"touchstart",t.onDragStart),t.pinchFlag&&t.onPinchEnd(l);var w=l!=null&&l.touches?U(l):[],y=w.length;y===0||!t.options.keepDragging?t.flag=!1:t._addStore(new et(w));var C=t._getPosition(),E=pt(),Y=!S&&t.doubleFlag;t._prevInputEvent=null,t.prevTime=S||Y?0:E,t.flag||(t._dettachDragEvent(),t._preventMouseEvent||t.emit("dragEnd",D({data:t.data,datas:t.data,isDouble:Y,isDrag:S,isClick:!S,isMouseEvent:t._isMouseEvent,isSecondaryButton:t._isSecondaryButton,inputEvent:l,isTrusted:t._isTrusted},C)),t.clientStores=[],t._isMouseEvent||(t._preventMouseEvent=!0,clearTimeout(t._preventMouseEventId),t._preventMouseEventId=setTimeout(function(){t._preventMouseEvent=!1},200)),t._isIdle=!0)}},t.onBlur=function(){t.onDragEnd()},t._allowClickEvent=function(){z(t._window,"click",t._onClick,!0)},t._onClick=function(l){t._allowClickEvent(),t._allowMouseEvent();var g=t.options.preventClickEventByCondition;g!=null&&g(l)||(l.stopPropagation(),l.preventDefault())},t._onContextMenu=function(l){var g=t.options;g.preventRightClick?t.onDragEnd(l):l.preventDefault()},t._passCallback=function(){};var o=[].concat(n),r=o[0];t._window=se(r)?r:I(r),t.options=D({checkInput:!1,container:r&&!("document"in r)?I(r):r,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},e);var s=t.options,u=s.container,c=s.events,f=s.checkWindowBlur;if(t._useDrag=c.indexOf("drag")>-1,t._useTouch=c.indexOf("touch")>-1,t._useMouse=c.indexOf("mouse")>-1,t.targets=o,t._useDrag&&o.forEach(function(l){b(l,"dragstart",t.onDragStart)}),t._useMouse&&(o.forEach(function(l){b(l,"mousedown",t.onDragStart),b(l,"mousemove",t._passCallback)}),b(u,"contextmenu",t._onContextMenu)),f&&b(I(),"blur",t.onBlur),t._useTouch){var h={passive:!1};o.forEach(function(l){b(l,"touchstart",t.onDragStart,h),b(l,"touchmove",t._passCallback,h)})}return t}return i.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},i.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(e,t){return e+t.movement},0)},i.prototype.isDragging=function(){return this.isDrag},i.prototype.isIdle=function(){return this._isIdle},i.prototype.isFlag=function(){return this.flag},i.prototype.isPinchFlag=function(){return this.pinchFlag},i.prototype.isDoubleFlag=function(){return this.doubleFlag},i.prototype.isPinching=function(){return this.isPinch},i.prototype.scrollBy=function(n,e,t,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(n,e),o&&this.onDrag(t,!0))},i.prototype.move=function(n,e){var t=n[0],o=n[1],r=this.getCurrentStore(),s=r.prevClients;return this.moveClients(s.map(function(u){var c=u.clientX,f=u.clientY;return{clientX:c+t,clientY:f+o,originalClientX:c,originalClientY:f}}),e,!0)},i.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},i.prototype.setEventData=function(n){var e=this.data;for(var t in n)e[t]=n[t];return this},i.prototype.setEventDatas=function(n){return this.setEventData(n)},i.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),D(D({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},i.prototype.getEventData=function(){return this.data},i.prototype.getEventDatas=function(){return this.data},i.prototype.unset=function(){var n=this,e=this.targets,t=this.options.container;this.off(),z(this._window,"blur",this.onBlur),this._useDrag&&e.forEach(function(o){z(o,"dragstart",n.onDragStart)}),this._useMouse&&(e.forEach(function(o){z(o,"mousedown",n.onDragStart)}),z(t,"contextmenu",this._onContextMenu)),this._useTouch&&(e.forEach(function(o){z(o,"touchstart",n.onDragStart)}),z(t,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},i.prototype.onPinchStart=function(n){var e=this,t=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>t)){var o=new et(U(n));this.pinchFlag=!0,this._addStore(o);var r=this.emit("pinchStart",D(D({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){e._dragFlag=!1}}));r===!1&&(this.pinchFlag=!1)}},i.prototype.onPinch=function(n,e){if(!(!this.flag||!this.pinchFlag||e.length<2)){var t=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",D(D({data:this.data,datas:this.data,movement:this.getMovement(e),angle:t.getAngle(e),rotation:t.getRotation(e),touches:t.getPositions(e),scale:t.getScale(e),distance:t.getDistance(e)},t.getPosition(e)),{inputEvent:n,isTrusted:this._isTrusted}))}},i.prototype.onPinchEnd=function(n){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var t=this.getCurrentStore();this.emit("pinchEnd",D(D({data:this.data,datas:this.data,isPinch:e,touches:t.getPositions()},t.getPosition()),{inputEvent:n}))}},i.prototype.getCurrentStore=function(){return this.clientStores[0]},i.prototype.moveClients=function(n,e,t){var o=this._getPosition(n,t),r=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var s=!1;return!r&&this.isDrag&&(s=!0),D(D({data:this.data,datas:this.data},o),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:s})},i.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},i.prototype._getPosition=function(n,e){var t=this.getCurrentStore(),o=t.getPosition(n,e),r=this.clientStores.slice(1).reduce(function(c,f){var h=f.getPosition();return c.distX+=h.distX,c.distY+=h.distY,c},o),s=r.distX,u=r.distY;return D(D({},o),{distX:s,distY:u})},i.prototype._attchDragEvent=function(){var n=this._window,e=this.options.container,t={passive:!1};this._isDragAPI&&(b(e,"dragover",this.onDrag,t),b(n,"dragend",this.onDragEnd)),this._useMouse&&(b(e,"mousemove",this.onDrag),b(n,"mouseup",this.onDragEnd)),this._useTouch&&(b(e,"touchmove",this.onDrag,t),b(n,"touchend",this.onDragEnd,t),b(n,"touchcancel",this.onDragEnd,t))},i.prototype._dettachDragEvent=function(){var n=this._window,e=this.options.container;this._isDragAPI&&(z(e,"dragover",this.onDrag),z(n,"dragend",this.onDragEnd)),this._useMouse&&(z(e,"mousemove",this.onDrag),z(n,"mouseup",this.onDragEnd)),this._useTouch&&(z(e,"touchstart",this.onDragStart),z(e,"touchmove",this.onDrag),z(n,"touchend",this.onDragEnd),z(n,"touchcancel",this.onDragEnd))},i.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},i}(ut);function ge(a,i){return i.replace(/([^}{]*){/gm,function(n,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+a+"$1")+"{"})}function pe(a,i){return function(n){var e=n.prototype;a.forEach(function(t){i(e,t)})}}function de(a){for(var i=5381,n=a.length;n;)i=i*33^a.charCodeAt(--n);return i>>>0}var me=de;function _e(a){return me(a).toString(36)}function Se(a){if(a&&a.getRootNode){var i=a.getRootNode();if(i.nodeType===11)return i}}function we(a,i,n){return n.original?i:i.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(e,t){var o=t.trim();return(o?ne(o):[""]).map(function(r){var s=r.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(a))):s?".".concat(a," ").concat(s):".".concat(a)}).join(", ")+" {"})}function Ee(a,i,n,e,t){var o=ct(e),r=o.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",a),r.setAttribute("data-styled-count","1"),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=we(a,i,n),(t||o.head||o.body).appendChild(r),r}function ze(a){var i="rCS"+_e(a);return{className:i,inject:function(n,e){e===void 0&&(e={});var t=Se(n),o=(t||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(i,'"]'));if(!o)o=Ee(i,a,e,n,t);else{var r=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(r+1))}return{destroy:function(){var s,u=parseFloat(o.getAttribute("data-styled-count"))||0;u<=1?(o.remove?o.remove():(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(u-1))}}}}}function ht(a,i){for(var n=a.length,e=0;e<n;++e)if(i(a[e],e))return!0;return!1}function Pt(a,i){for(var n=a.length,e=0;e<n;++e)if(i(a[e],e))return a[e];return null}function Wt(a){var i=a;if(typeof i>"u"){if(typeof navigator>"u"||!navigator)return"";i=navigator.userAgent||""}return i.toLowerCase()}function ft(a,i){try{return new RegExp(a,"g").exec(i)}catch{return null}}function ye(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var a=navigator.userAgentData,i=a.brands||a.uaList;return!!(i&&i.length)}function be(a,i){var n=ft("("+a+")((?:\\/|\\s|:)([0-9|\\.|_]+))",i);return n?n[3]:""}function ot(a){return a.replace(/_/g,".")}function j(a,i){var n=null,e="-1";return ht(a,function(t){var o=ft("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!o||t.brand?!1:(n=t,e=o[3]||"-1",t.versionAlias?e=t.versionAlias:t.versionTest&&(e=be(t.versionTest.toLowerCase(),i)||e),e=ot(e),!0)}),{preset:n,version:e}}function G(a,i){var n={brand:"",version:"-1"};return ht(a,function(e){var t=Lt(i,e);return t?(n.brand=e.id,n.version=e.versionAlias||t.version,n.version!=="-1"):!1}),n}function Lt(a,i){return Pt(a,function(n){var e=n.brand;return ft(""+i.test,e.toLowerCase())})}var Bt=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],kt=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],at=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Ht=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],It=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Ft(a){return!!j(Ht,a).preset}function Ce(a){var i=Wt(a),n=!!/mobi/g.exec(i),e={name:"unknown",version:"-1",majorVersion:-1,webview:Ft(i),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},t={name:"unknown",version:"-1",majorVersion:-1},o=j(Bt,i),r=o.preset,s=o.version,u=j(It,i),c=u.preset,f=u.version,h=j(kt,i);if(e.chromium=!!h.preset,e.chromiumVersion=h.version,!e.chromium){var l=j(at,i);e.webkit=!!l.preset,e.webkitVersion=l.version}return c&&(t.name=c.id,t.version=f,t.majorVersion=parseInt(f,10)),r&&(e.name=r.id,e.version=s,e.webview&&t.name==="ios"&&e.name!=="safari"&&(e.webview=!1)),e.majorVersion=parseInt(e.version,10),{browser:e,os:t,isMobile:n,isHints:!1}}function Ye(a){var i=navigator.userAgentData,n=(i.uaList||i.brands).slice(),e=i.mobile||!1,t=n[0],o=(i.platform||navigator.platform).toLowerCase(),r={name:t.brand,version:t.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!G(Ht,n).brand||Ft(Wt())},s={name:"unknown",version:"-1",majorVersion:-1};r.webkit=!r.chromium&&ht(at,function(l){return Lt(n,l)});var u=G(kt,n);if(r.chromium=!!u.brand,r.chromiumVersion=u.version||"-1",!r.chromium){var c=G(at,n);r.webkit=!!c.brand,r.webkitVersion=c.version||"-1"}var f=Pt(It,function(l){return new RegExp(""+l.test,"g").exec(o)});s.name=f?f.id:"";{var h=G(Bt,n);r.name=h.brand||r.name,r.version=h.brand&&a?a.uaFullVersion:h.version}return r.webkit&&(s.name=e?"ios":"mac"),s.name==="ios"&&r.webview&&(r.version="-1"),s.version=ot(s.version),r.version=ot(r.version),s.majorVersion=parseInt(s.version,10),r.majorVersion=parseInt(r.version,10),{browser:r,os:s,isMobile:e,isHints:!0}}function Xe(a){return ye()?Ye():Ce(a)}var st=function(a,i){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},st(a,i)};function vt(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");st(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var A=function(){return A=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},A.apply(this,arguments)};function De(a,i,n,e){var t=arguments.length,o=t<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,n):e,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,i,n,e);else for(var s=a.length-1;s>=0;s--)(r=a[s])&&(o=(t<3?r(o):t>3?r(i,n,o):r(i,n))||o);return t>3&&o&&Object.defineProperty(i,n,o),o}function St(a,i,n){if(n||arguments.length===2)for(var e=0,t=i.length,o;e<t;e++)(o||!(e in i))&&(o||(o=Array.prototype.slice.call(i,0,e)),o[e]=i[e]);return a.concat(o||Array.prototype.slice.call(i))}var Te=Xe(),xe=Te.browser.name==="safari",k="infinite-viewer-",wt="".concat(k,"wrapper"),Et="".concat(k,"scroll-area"),Me="".concat(k,"scroll-bar"),Vt="".concat(k,"horizontal-scroll-bar"),jt="".concat(k,"vertical-scroll-bar"),zt="".concat(k,"scroll-thumb"),Zt=ze(ge(k,`
{
    position: relative;
    overscroll-behavior: none;
}
.wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: auto;
    scrollbar-width: none;
    top: 0;
    left: 0;
    will-change: scroll-position;
}
.restrict-wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}
.wrapper::-webkit-scrollbar {
    display: none;
}
.scroll-area {
    position:absolute;
    top:0;
    left:0;
    transform-origin: 0 0;
}
.scroll-bar {
    position:absolute;
    width: 10px;
    height: 10px;
    box-sizing: border-box;
    right: 0;
    bottom: 0;
    overflow: hidden;
}
.horizontal-scroll-bar {
    width: calc(100% - 20px);
    right: 10px;
    height: 14px;
}
.vertical-scroll-bar {
    height: calc(100% - 20px);
    bottom: 10px;
    width: 14px;
}
.scroll-thumb {
    position:relative;
    opacity: 0.7;
    background: #333;
    border-radius: 3px;
    left: 0px;
    top: 0px;
    z-index: 10;
    width: 6px;
    height: 6px;
    transition: all ease 0.2s;
    opacity: 0;
}
.scroll-bar:hover .scroll-thumb {
    border-radius: 5px;
    opacity: 1;
}
.horizontal-scroll-bar .scroll-thumb {
    margin: 4px 0px;
    transition-property: opacity, margin, height, border-radius;
}
.vertical-scroll-bar .scroll-thumb {
    margin: 0px 4px;
    transition-property: opacity, margin, width, border-radius;
}
.horizontal-scroll-bar:hover .scroll-thumb {
    height: 10px;
    margin: 2px 0px;
}
.vertical-scroll-bar:hover .scroll-thumb {
    width: 10px;
    margin: 0px 2px;
}
`)),M={margin:500,threshold:100,zoom:1,zoomX:1,zoomY:1,rangeX:[-1/0,1/0],rangeY:[-1/0,1/0],rangeOffsetX:[0,0],rangeOffsetY:[0,0],wrapperElement:null,scrollAreaElement:null,horizontalScrollElement:null,verticalScrollElement:null,usePinch:!1,useAutoZoom:!1,useMouseDrag:!1,pinchThreshold:30,cspNonce:"",maxPinchWheel:1/0,wheelScale:.01,displayHorizontalScroll:!0,displayVerticalScroll:!0,useTransform:!0,useWheelPinch:!0,zoomRange:[.001,1/0],wheelPinchKey:"ctrl",useWheelScroll:xe,zoomOffsetX:"50%",zoomOffsetY:"50%",translateZ:0,useGesture:!0,useResizeObserver:!1,pinchDirection:"all",preventWheelClick:!0,useBounceScrollBar:!1,useOverflowScroll:!1},yt=function(a){return 1-Math.pow(1-a,3)},bt={horizontal:{pos:"Left",coord:"X",size:"Width"},vertical:{pos:"Top",coord:"Y",size:"Height"}},Ae=Zt.className,Nt=["margin","threshold","zoomOffsetX","zoomOffsetY","zoom","zoomX","zoomY","rangeX","rangeY","rangeOffsetX","rangeOffsetY","usePinch","useMouseDrag","pinchThreshold","maxPinchWheel","wheelScale","displayVerticalScroll","displayHorizontalScroll","translateZ","useAutoZoom","wheelPinchKey","zoomRange","zoomRangeX","zoomRangeY","pinchDirection","useOverflowScroll"],ke=St(St([],Nt,!0),["preventWheelClick","useWheelPinch","useWheelScroll","useGesture","cspNonce","wrapperElement","scrollAreaElement","verticalScrollElement","horizontalScrollElement","useResizeObserver","wheelContainer","useBounceScrollBar"],!1),He=["scroll","abortPinch","dragStart","dragEnd","pinchStart","pinch"],Ie=["getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","getContainerWidth","getContainerHeight","getViewportWidth","getViewportHeight","getViewportScrollWidth","getViewportScrollHeight","scrollTo","scrollBy","zoomBy","scrollCenter","getContainer","getViewport","getWrapper","setZoom","getRangeX","getRangeY","resize","getZoom","getZoomX","getZoomY","getWheelContainer","setTo","setBy"],Oe=1e-6;function Re(a){var i=a.deltaX,n=a.deltaY,e=a.datas,t=Date.now(),o=e.speed;if(!o){e.speed=[0,0],e.time=t;return}var r=t-e.time;e.speed=[o[0]/2+i/r,o[1]/2+n/r]}function qt(a,i){var n=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return Math.abs(n/i)}function Pe(a,i){var n=qt(a,i);return[-a[0]/2*n,-a[1]/2*n]}function W(a){return Math.abs(a)}function We(a,i,n,e,t){var o=t||isFinite(n[0])?n[0]:Math.min(-1,Math.floor(a/i))*i-e,r=t||isFinite(n[1])?n[1]:Math.max(1,Math.ceil(a/i))*i+e;return[o,r]}function Ct(a,i){return a??i}function Yt(a,i,n){var e=n.duration,t=n.easing||function(u){return 1-Math.pow(1-u,3)},o=Date.now(),r=o,s=function(){var u=Date.now(),c=u-o;e<c&&(c=e);var f=t(c/e),h=t((r-o)/e);r=u,a(f-h),!(c>=e)&&i(s)};i(s)}var Xt=function(a){vt(i,a);function i(e,t,o){var r=a.call(this)||this;r.type=t,r.isAppend=!1,r.size=0,r.scrollSize=0,r.isHorizontal=!1,r._onDragStart=function(h){var l=r.isHorizontal,g=h.inputEvent.target,d=h.datas,m=r.thumbElement===g;m||setTimeout(function(){requestAnimationFrame(function(){var v=r.thumbElement.getBoundingClientRect(),_=v[l?"left":"top"],p=v[l?"width":"height"],S=_+p,w=h[l?"clientX":"clientY"];if(!(_<=w&&w<=S)){var y=r.size,C=y*y/r.scrollSize;r.scrollBy(_<w?C:-C)}})},100),d.isThumb=m,h.inputEvent.stopPropagation(),h.inputEvent.preventDefault()},r._onDrag=function(h){h.datas.isThumb&&r.scrollBy(r.isHorizontal?h.deltaX:h.deltaY)},r._onWheel=function(h){var l=r.isHorizontal?h.deltaX:h.deltaY;l&&h.preventDefault(),r.trigger("scroll",{delta:l})};var s=t==="horizontal",u=ct(e),c,f=o;return o?c=o.querySelector(".".concat(zt)):(f=u.createElement("div"),c=u.createElement("div"),f.insertBefore(c,null),r.isAppend=!0),H(f,s?Vt:jt),H(f,Me),H(c,zt),r.thumbElement=c,r.barElement=f,r.isHorizontal=s,r.gesto=new Rt(f,{container:I(u)}).on("dragStart",function(h){return r._onDragStart(h)}).on("drag",function(h){return r._onDrag(h)}),b(r.barElement,"wheel",r._onWheel,{passive:!1}),r}var n=i.prototype;return n.scrollBy=function(e,t){var o=e/this.size;this.trigger("scroll",{delta:t?e:this.scrollSize*o})},n.render=function(e,t,o,r){this.size=o,this.scrollSize=r;var s=e&&ae(r-o,.001)>0?1:0,u=this.isHorizontal?["X","width"]:["Y","height"],c=u[0],f=u[1],h=o/r*100,l=Math.max(0,t)/r*100;this.thumbElement.style.cssText+="".concat(f,": ").concat(h,"%;opacity: ").concat(s,";")+"transform: translate".concat(c,"(").concat(100/h*l,"%)")},n.destroy=function(){z(this.barElement,"wheel",this._onWheel),this.gesto.off(),this.off()},i}(ut),Le=function(a){vt(i,a);function i(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var r=a.call(this)||this;return r._containerElement=e,r.offsetX=0,r.offsetY=0,r.containerWidth=0,r.containerHeight=0,r.viewportWidth=0,r.viewportHeight=0,r.viewportScrollWidth=0,r.viewportScrollHeight=0,r.scrollLeft=0,r.scrollTop=0,r._scrollTimer=0,r._zoomTimer=0,r._viewportElement=null,r._wheelContainerElement=null,r.dragFlag=!1,r.isLoop=!1,r._tempScale=[1,1],r._tempRect=null,r._tempRectTimer=null,r._onDestroys=[],r._asLeft=0,r._asTop=0,r.resize=function(){var s=r._containerElement,u=s.offsetWidth,c=s.offsetHeight,f=r._viewportElement,h=f.offsetWidth,l=f.offsetHeight,g=f.scrollWidth,d=f.scrollHeight;r.containerWidth=u,r.containerHeight=c,r.viewportWidth=h,r.viewportHeight=l,r.viewportScrollWidth=Math.max(h,g),r.viewportScrollHeight=Math.max(l,d),r.render(),r._scrollBy(0,0)},r._onScroll=function(){var s=r.wrapperElement,u=s.scrollLeft,c=s.scrollTop,f=r.zoom,h=f===void 0?M.zoom:f,l=u-r.scrollLeft,g=c-r.scrollTop,d=r.getScrollLeft(),m=r.getScrollTop();r.isLoop&&(r.isLoop=!1),r.scrollLeft=u,r.scrollTop=c,r.scrollTo(d+l/h,m+g/h)},r.onWheel=function(s){var u=r.options,c=u.pinchDirection,f=u.maxPinchWheel||1/0,h=s["".concat(r.wheelPinchKey,"Key")]||s.ctrlKey;if(u.useWheelPinch&&h){var l=s.deltaY,g=l>=0?1:-1,d=Math.min(f,Math.abs(l));l=g*d;var m=-l,v=Math.max(1+m*(u.wheelScale||.01),Oe);clearTimeout(r._tempRectTimer),r._tempRectTimer=window.setTimeout(function(){r._tempRect=null},100),r._triggerPinch({distance:d,scale:v,rotation:0,zoom:r.zoom*v,zoomX:r.zoomX*(c==="vertical"?1:v),zoomY:r.zoomY*(c==="horizontal"?1:v),inputEvent:s,isWheel:!0,clientX:s.clientX,clientY:s.clientY,ratioX:0,ratioY:0})}else if(u.useWheelScroll){var _=s.deltaX,l=s.deltaY;s.shiftKey&&!_&&(_=l,l=0),r.scrollBy(_/r.zoomX,l/r.zoomY)}else return;s.preventDefault()},r.onGestureStart=function(s){r._tempScale=[r.zoomX,r.zoomY],r._setClientRect(),s.preventDefault()},r.onGestureChange=function(s){if(s.preventDefault(),r.gesto.isFlag()||!r._tempScale){r._tempScale=[1,1];return}var u=s.scale,c=r._tempScale[0],f=r._tempScale[1],h=r.options.pinchDirection;r._triggerPinch({distance:0,scale:u,rotation:s.rotation,inputEvent:s,isWheel:!0,zoom:(c+f)*u/2,zoomX:c*(h==="vertical"?1:u),zoomY:f*(h==="horizontal"?1:u),clientX:s.clientX,clientY:s.clientY,ratioX:0,ratioY:0})},r.onGestureEnd=function(){},dt(t)?(r._viewportElement=t,r.options=A(A({},M),o)):(r._viewportElement=e.children[0],r.options=A(A({},M),t)),r.init(),r}var n=i.prototype;return n.getContainer=function(){return this._containerElement},n.getWheelContainer=function(){return this._wheelContainerElement},n.getViewport=function(){return this._viewportElement},n.getWrapper=function(){return this.wrapperElement},n.geScrollArea=function(){return this.scrollAreaElement},n.destroy=function(){this.off(),this.gesto.unset(),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),this.injectResult.destroy();var e=this._containerElement;this._onDestroys.forEach(function(t){t()}),z(this.wrapperElement,"scroll",this._onScroll),z(this._wheelContainerElement,"wheel",this.onWheel),z(e,"gesturestart",this.onGestureStart),z(e,"gesturechange",this.onGestureChange),z(e,"gesturesend",this.onGestureEnd),this.gesto=null,this.injectResult=null,this._containerElement=null,this._viewportElement=null,this.options=null},n.getScrollTop=function(e){e===void 0&&(e={});var t=!1,o=!1;F(e)?(t=e.range,o=e.absolute):t=e;var r=this.zoomY,s=this.scrollTop/r+this.offsetY+(t?W(this.getRangeY()[0]):0);return o?s*r:s},n.getScrollLeft=function(e){e===void 0&&(e={});var t=!1,o=!1;F(e)?(t=e.range,o=e.absolute):t=e;var r=this.zoomX,s=this.scrollLeft/r+this.offsetX+(t?W(this.getRangeX()[0]):0);return o?s*r:s},n.getScrollWidth=function(e){var t=this._getScrollRangeX(),o=this.zoomX,r=this.containerWidth/o+W(t[0])+t[1];return e?r:r*o},n.getScrollHeight=function(e){var t=this._getScrollRangeY(),o=this.zoomY,r=this.containerHeight/o+W(t[0])+t[1];return e?r:r*o},n.scrollCenter=function(e){e===void 0&&(e={}),this.resize();var t=this.zoomX,o=this.zoomY,r=-(this.containerWidth/t-this.viewportWidth)/2,s=-(this.containerHeight/o-this.viewportHeight)/2;return e.absolute&&(r*=t,s*=o),e.horizontal===!1&&(r=this.getScrollLeft()),e.vertical===!1&&(s=this.getScrollTop()),this.scrollTo(r,s,e)},n.setTo=function(e){var t=e.x,o=t===void 0?this.getScrollLeft():t,r=e.y,s=r===void 0?this.getScrollTop():r,u=e.zoom,c=u===void 0?[this.getZoomX(),this.getZoomY()]:u,f=e.duration,h=this,l=h.zoomX,g=h.zoomY,d=h.zoomRange,m=this,v=m.zoomOffsetX,_=v===void 0?M.zoomOffsetX:v,p=m.zoomOffsetY,S=p===void 0?M.zoomOffsetY:p;"zoomOffsetX"in e&&(_=e.zoomOffsetX),"zoomOffsetY"in e&&(S=e.zoomOffsetY);var w=V(c)?c:[c,c],y=w[0],C=w[1],E=this.zoomRangeX||d,Y=this.zoomRangeY||d,X=B(y,E[0],E[1]),O=B(C,Y[0],Y[1]),R=L("".concat(_),this.viewportWidth)*(1/l-1/X),x=L("".concat(S),this.viewportHeight)*(1/g-1/O);this.scrollTo(o-R,s-x,{duration:f}),this.setZoom(c,{zoomOffsetX:_,zoomOffsetY:S,duration:f,zoomBase:"fixed"})},n.setBy=function(e){var t=e.x,o=t===void 0?0:t,r=e.y,s=r===void 0?0:r,u=e.zoom,c=u===void 0?[0,0]:u,f=V(c)?c:[c,c],h=f[0],l=f[1];this.setTo(A(A({},e),{x:this.getScrollLeft()+o,y:this.getScrollTop()+s,zoom:[this.zoomX+h,this.zoomY+l]}))},n.scrollBy=function(e,t,o){if(this._pauseScrollAnimation(),!o||!o.duration){var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this._scrollTo(r+e,s+t,o)}else return this._startScrollAnimation([e,t],o),!0},n.scrollTo=function(e,t,o){if(this._pauseScrollAnimation(),!o||!o.duration)return this._scrollTo(e,t,o);var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this.scrollBy(e-r,t-s,o)},n.zoomBy=function(e,t){this._pauseZoomAnimation();var o=V(e)?e:[e,e],r=o[0],s=o[1];!t||!t.duration?this._setZoom([this.zoomX+r,this.zoomY+s],t):this._startZoomAnimation([r,s],t)},n.setZoom=function(e,t){if(this._pauseZoomAnimation(),!t||!t.duration)this._setZoom(e,t);else{var o=V(e)?e:[e,e],r=o[0],s=o[1];this._startZoomAnimation([r-this.zoomX,s-this.zoomY],t)}},n.getViewportWidth=function(){return this.viewportWidth},n.getViewportHeight=function(){return this.viewportWidth},n.getViewportScrollWidth=function(){return this.viewportScrollWidth},n.getViewportScrollHeight=function(){return this.viewportScrollHeight},n.getContainerWidth=function(){return this.containerWidth},n.getContainerHeight=function(){return this.containerHeight},n.getZoom=function(){return(this.zoomX+this.zoomY)/2},n.getZoomX=function(){return this.zoomX},n.getZoomY=function(){return this.zoomY},n.getRangeX=function(e,t){return this._getRangeCoord("horizontal",e,t)},n.getRangeY=function(e,t){return this._getRangeCoord("vertical",e,t)},n.init=function(){var e=this,t,o=this._containerElement,r=this.options,s=ct(o),u=I(o),c=r.wrapperElement||o.querySelector(".".concat(wt)),f=r.scrollAreaElement||o.querySelector(".".concat(Et)),h=r.horizontalScrollElement||o.querySelector(".".concat(Vt)),l=r.verticalScrollElement||o.querySelector(".".concat(jt));c||(c=s.createElement("div"),c.insertBefore(this._viewportElement,null),o.insertBefore(c,null)),this.wrapperElement=c,f||(f=s.createElement("div"),c.insertBefore(f,c.firstChild)),this.scrollAreaElement=f,H(o,Ae),H(c,wt),H(f,Et);var g=new Xt(o,"horizontal",h),d=new Xt(o,"vertical",l);this.horizontalScrollbar=g,this.verticalScrollbar=d,g.on("scroll",function(p){e.scrollBy(p.delta/e.zoomX,0)}),d.on("scroll",function(p){e.scrollBy(0,p.delta/e.zoomY)}),g.isAppend&&o.insertBefore(g.barElement,null),d.isAppend&&o.insertBefore(d.barElement,null),this.injectResult=Zt.inject(o,{nonce:this.options.cspNonce});var m=r.wheelContainer,v=null;if(m&&(Tt(m)?v=s.querySelector(m):dt(m)?v=m:("value"in m||"current"in m)&&(v=m.current||m.value)),v||(v=o),this._wheelContainerElement=v,this.gesto=new Rt(o,{container:I(o),events:["touch","mouse"],preventWheelClick:(t=this.options.preventWheelClick)!==null&&t!==void 0?t:!0}).on("dragStart",function(p){var S=p.inputEvent,w=p.stop,y=p.datas;if(!e.useMouseDrag&&p.isMouseEvent){w();return}e._pauseScrollAnimation(),e.dragFlag=!1;var C=e.trigger("dragStart",p);if(C===!1){w();return}S.preventDefault(),y.startEvent=S}).on("drag",function(p){!e.options.usePinch||p.isPinch||e.useMouseDrag&&p.isMouseEvent?(e.trigger("drag",A(A({},p),{inputEvent:p.inputEvent})),Re(p),e.scrollBy(-p.deltaX/e.zoomX,-p.deltaY/e.zoomY)):!e.dragFlag&&p.movement>r.pinchThreshold&&(e.dragFlag=!0,e.trigger("abortPinch",{inputEvent:p.datas.startEvent||p.inputEvent}))}).on("dragEnd",function(p){e.trigger("dragEnd",{isDrag:p.isDrag,isDouble:p.isDouble,inputEvent:p.inputEvent}),e._startScrollAnimationBySpeed(p.datas.speed)}).on("pinchStart",function(p){var S=p.inputEvent,w=p.datas,y=p.stop;S.preventDefault(),e._pauseScrollAnimation(),w.startZoom=[e.zoomX,e.zoomY];var C=e.trigger("pinchStart",{inputEvent:S});C===!1&&y(),e._setClientRect()}).on("pinch",function(p){var S=p.scale,w=e.options.pinchDirection;e._triggerPinch({rotation:p.rotation,distance:p.distance,scale:p.scale,inputEvent:p.inputEvent,isWheel:!1,zoom:p.datas.startZoom*S,zoomX:e.zoomX*(w==="vertical"?1:S),zoomY:e.zoomY*(w==="horizontal"?1:S),clientX:p.clientX,clientY:p.clientY,ratioX:0,ratioY:0})}).on("pinchEnd",function(){e._tempRect=null}),b(c,"scroll",this._onScroll),r.useResizeObserver){var _=new u.ResizeObserver(function(){e.resize()});_.observe(this._viewportElement),_.observe(this._containerElement),this._onDestroys.push(function(){_.disconnect()})}else b(u,"resize",this.resize),this._onDestroys.push(function(){z(u,"resize",e.resize)});(r.useWheelPinch||r.useWheelScroll)&&b(v,"wheel",this.onWheel,{passive:!1}),r.useGesture&&(b(o,"gesturestart",this.onGestureStart,{passive:!1}),b(o,"gesturechange",this.onGestureChange,{passive:!1})),this.resize()},n.render=function(){var e=this,t=e.offsetX,o=e.offsetY,r=e.zoomX,s=r===void 0?M.zoomX:r,u=e.zoomY,c=u===void 0?M.zoomY:u,f=e.translateZ,h=f===void 0?0:f;e.rangeX,e.rangeY,e.containerWidth,e.containerHeight;var l=this.options.useTransform,g=l===void 0?M.useTransform:l,d=-t*s,m=-o*c;this.scrollAreaElement.style.cssText="width:calc(100% + ".concat(this.getScrollAreaWidth(),"px);")+"height:calc(100% + ".concat(this.getScrollAreaHeight(),"px);");var v=this._viewportElement.style;g===!1?v.cssText+="position: relative; left: ".concat(d,"px; top: ").concat(m,"px; "):v.cssText+="transform-origin: 0 0;"+"transform:translate3d(".concat(d,"px, ").concat(m,"px, ").concat(h,"px) scale(").concat(s,", ").concat(c,");"),this.renderScroll()},n.renderScroll=function(){var e=this,t=e.zoomX,o=e.zoomY,r=e.containerWidth,s=e.containerHeight,u=this.horizontalScrollbar,c=this.verticalScrollbar;if(this.options.useBounceScrollBar){var f=this.getScrollLeft(!0)*t,h=this.getRangeX(!0),l=r+W(h[0])+W(h[1]),g=this.getScrollTop(!0)*o,d=this.getRangeY(!0),m=s+W(d[0])+W(d[1]);u.render(this.displayHorizontalScroll,f,r,l),c.render(this.displayVerticalScroll,g,s,m)}else{var v=this._getScrollRangeX(),_=this._getScrollRangeY(),f=this.getScrollLeft(),g=this.getScrollTop(),l=this.containerWidth+W(v[0])+v[1],m=this.containerHeight+W(_[0])+_[1];u.render(this.displayHorizontalScroll,f-v[0],r,l),c.render(this.displayVerticalScroll,g-_[0],s,m)}},n.move=function(e,t){var o=this.wrapperElement;o.scrollLeft=e,o.scrollTop=t},n.setDisplayVerticalScroll=function(e){this.options.displayVerticalScroll=e,this.renderScroll()},n.setDisplayHorizontalScroll=function(e){this.options.displayHorizontalScroll=e,this.renderScroll()},n._startZoomAnimation=function(e,t){var o=this;if(e){var r=t.duration,s=t.easing||yt;Yt(function(u){return o._setZoom([o.zoomX+e[0]*u,o.zoomY+e[1]*u],t)},function(u){o._zoomTimer=requestAnimationFrame(u)},{easing:s,duration:r})}},n._startScrollAnimation=function(e,t){var o=this;if(!(!e[0]&&!e[1])){var r=t.duration,s=t.easing||yt;Yt(function(u){return o._scrollBy(e[0]*u,e[1]*u,t)},function(u){o._scrollTimer=requestAnimationFrame(u)},{easing:s,duration:r})}},n._startScrollAnimationBySpeed=function(e){if(!(!e||!e[0]&&!e[1])){var t=-6e-4,o=qt(e,t),r=Pe(e,t);return this._startScrollAnimation(r,{duration:o})}},n._pauseScrollAnimation=function(){cancelAnimationFrame(this._scrollTimer),this._scrollTimer=0},n._pauseZoomAnimation=function(){cancelAnimationFrame(this._zoomTimer),this._zoomTimer=0},n.getScrollAreaWidth=function(){var e=this.getRangeX(!0),t=e[0],o=e[1];return t||o?this.margin*2:0},n.getScrollAreaHeight=function(){var e=this.getRangeY(!0),t=e[0],o=e[1];return t||o?this.margin*2:0},n._triggerPinch=function(e){var t=e.clientX,o=e.clientY,r=e.zoomX,s=e.zoomY;this.useAutoZoom&&this._zoomByClient([r,s],t,o),this._tempRect||this._setClientRect();var u=this.zoomRange,c=this.zoomRangeX||u,f=this.zoomRangeY||u,h=this._tempRect,l=h.left,g=h.top,d=h.width,m=h.height,v=(t-l)/d*100,_=(o-g)/m*100;this.trigger("pinch",A(A({},e),{zoom:B((r+s)/2,u[0],u[1]),zoomX:B(r,c[0],c[1]),zoomY:B(s,f[0],f[1]),ratioX:v,ratioY:_}))},n._setClientRect=function(){var e=this.getContainer().getBoundingClientRect();this._tempRect={left:e.left,top:e.top,width:e.width,height:e.height}},n._zoomByClient=function(e,t,o){this._tempRect||this._setClientRect();var r=this._tempRect,s=r.left,u=r.top,c=r.width,f=r.height,h=this.options,l=h.zoomOffsetX,g=h.zoomOffsetY;h.zoomOffsetX="".concat((t-s)/c*100,"%"),h.zoomOffsetY="".concat((o-u)/f*100,"%"),this._setZoom(e,{zoomBase:"screen"}),h.zoomOffsetX=l,h.zoomOffsetY=g},n._setZoom=function(e,t){t===void 0&&(t={});var o=t.zoomBase,r=this,s=r.containerWidth,u=r.containerHeight,c=r.zoomX,f=r.zoomY,h=r.zoomRange,l=this,g=l.zoomOffsetX,d=g===void 0?M.zoomOffsetX:g,m=l.zoomOffsetY,v=m===void 0?M.zoomOffsetY:m;"zoomOffsetX"in t&&(d=t.zoomOffsetX),"zoomOffsetY"in t&&(v=t.zoomOffsetY);var _=this.getScrollLeft(),p=this.getScrollTop(),S=V(e)?e:[e,e],w=S[0],y=S[1],C=this.zoomRangeX||h,E=this.zoomRangeY||h,Y=B(w,C[0],C[1]),X=B(y,E[0],E[1]),O=this.options;O.zoomX=Y,O.zoomY=X,O.zoom=(Y+X)/2;var R=this.getScrollLeft(),x=this.getScrollTop(),T=0,P=0;o==="fixed"?(T=L("".concat(d),this.viewportWidth),P=L("".concat(v),this.viewportHeight)):o==="viewport"?(T=(-_+L("".concat(d),this.viewportWidth))*c,P=(-p+L("".concat(v),this.viewportHeight))*f):(T=L("".concat(d),s),P=L("".concat(v),u));var $=_+T/c,N=p+P/f,K=R+T/Y,J=x+P/X;this._scrollBy($-K,N-J,{zoom:!!(Y-c||X-f)}),this.render()},n._scrollBy=function(e,t,o){var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this._scrollTo(r+e,s+t,o)},n._scrollTo=function(e,t,o){var r=this,s=this,u=s.scrollLeft,c=s.scrollTop,f=o==null?void 0:o.absolute;this._scrollToType("horizontal",e,f),this._scrollToType("vertical",t,f);var h=this.scrollLeft,l=this.scrollTop;this.render();var g=this.getScrollLeft(),d=this.getScrollTop();return this._emitScrollEvent(g,d,o==null?void 0:o.zoom),Math.round(u)!==h||Math.round(c)!==l?(this.isLoop=!0,this.move(h,l),requestAnimationFrame(function(){if(r.isLoop){r.isLoop=!1;var m=r.wrapperElement,v=m.scrollLeft,_=m.scrollTop;r.scrollLeft=v,r.scrollTop=_,(h!==Math.round(v)||l!==Math.round(_))&&r._scrollTo(g,d)}}),!1):!0},n._scrollToType=function(e,t,o){var r=bt[e],s=this,u=s.margin,c=u===void 0?M.margin:u,f=s.threshold,h=f===void 0?M.threshold:f,l=this["scroll".concat(r.pos)],g=this["getRange".concat(r.coord)](!0,!0),d=g[0],m=g[1],v=Math.round(l),_=this["getScrollArea".concat(r.size)](),p=this["zoom".concat(r.coord)];o&&(t=t/p);var S=t*p;if(d===m)v=d,t=d/p;else if(S-h<=d){var w=Math.max(0,S-d);v=w,t=(d+w)/p}else if(S+h>=m){var y=Math.max(0,m-S);v=_-y,t=(m-y)/p}else v<h?v+=c:v>_-h&&(v-=c);v=Math.round(v),this["scroll".concat(r.pos)]=v,this["offset".concat(r.coord)]=t-v/p},n._getRangeCoord=function(e,t,o){var r=this,s=r.margin,u=s===void 0?M.margin:s,c=r.threshold,f=bt[e],h=Ct(this["range".concat(f.coord)],M["range".concat(f.coord)]),l=Ct(this["rangeOffset".concat(f.coord)],M["rangeOffset".concat(f.coord)]),g=this["zoom".concat(f.coord)],d=We(this["getScroll".concat(f.pos)](),u,h,c,o);return t?[d[0]*g+l[0],this.options.useOverflowScroll?Math.max(this["viewport".concat(f.size)]*g-this["container".concat(f.size)],d[1]*g+l[1]):d[1]*g+l[1]]:[d[0]+l[0],d[1]+l[1]]},n._emitScrollEvent=function(e,t,o){var r=this._asLeft,s=this._asTop;!o&&r===e&&s===t||(this._asLeft=e,this._asTop=t,this.trigger("scroll",{scrollLeft:e,scrollTop:t,zoomX:this.zoomX,zoomY:this.zoomY}))},n._getScrollRangeX=function(){var e=this.getScrollLeft(),t=this.rangeX,o=t[0],r=t[1];this.useOverflowScroll&&isFinite(r)&&(r=Math.max(r,this.viewportWidth-this.containerWidth/this.zoomX));var s=Math.min(0,isFinite(o)?Math.min(o,e):e),u=Math.max(0,isFinite(r)?Math.max(r,e):e),c=this.viewportScrollWidth,f=Math.max(this.containerWidth/this.zoomX,c)-c,h=Math.min(0,f+s);return[h,u]},n._getScrollRangeY=function(){var e=this.getScrollTop(),t=this.rangeY,o=t[0],r=t[1];this.useOverflowScroll&&isFinite(r)&&(r=Math.max(r,this.viewportHeight-this.containerHeight/this.zoomY));var s=Math.min(0,isFinite(o)?Math.min(o,e):e),u=Math.max(0,isFinite(r)?Math.max(r,e):e),c=this.viewportScrollHeight,f=Math.max(this.containerHeight/this.zoomY,c)-c,h=Math.min(0,f+s);return[h,u]},i=De([pe(Nt,function(e,t){var o={enumerable:!0,configurable:!0,get:function(){return this.options[t]}},r=oe("set ".concat(t));e[r]?o.set=function(s){this[r](s)}:o.set=function(s){this.options[t]=s},Object.defineProperty(e,t,o)})],i),i}(ut),Fe=function(a){vt(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i}(Le);export{He as E,Fe as I,Ie as M,ke as O,Nt as P,Be as i};
