function f(d){d.interceptors.request.use(o=>{var e,n,c;const a=Date.now();o._startTime=a;const i=(e=o.url)!=null&&e.startsWith("http")?o.url:`${o.baseURL||""}${o.url||""}`;if(console.groupCollapsed(`üîµ Axios Request: ${((n=o.method)==null?void 0:n.toUpperCase())||"GET"} ${o.url}`),console.log("URL:",o.url),console.log("Method:",((c=o.method)==null?void 0:c.toUpperCase())||"GET"),o.baseURL&&console.log("Base URL:",o.baseURL),console.log("Full URL:",i),o.params&&Object.keys(o.params).length>0&&console.log("Query Params:",o.params),o.headers){const t={...o.headers};if(t.Authorization)try{const s=JSON.parse(t.Authorization);t.Authorization={...s,token:s.token?`${s.token.substring(0,10)}...`:null}}catch{t.Authorization="[Redacted]"}console.log("Headers:",t)}if(o.data)if(typeof o.data=="string"){const t=o.data.length>200?o.data.substring(0,200)+"...":o.data;console.log("Data (string):",t)}else if(o.data instanceof FormData){const t=[];if(o.data.entries)for(const[s,g]of o.data.entries())t.push({key:s,value:g instanceof File?`[File: ${g.name}]`:g});console.log("Data (FormData):",{type:"FormData",entries:t.length,data:t})}else if(o.data instanceof Blob)console.log("Data (Blob):",{type:o.data.type,size:o.data.size});else try{const t=JSON.stringify(o.data);t.length>1e3?console.log("Data (object, truncated):",{...JSON.parse(t.substring(0,1e3)),_truncated:!0}):console.log("Data:",o.data)}catch{console.log("Data:",o.data)}const l=new Date().toLocaleTimeString();return console.log("Time:",l),console.groupEnd(),o},o=>(console.groupCollapsed("‚ùå Axios Request Error"),console.error("Error:",o),console.error("Message:",o.message),console.groupEnd(),Promise.reject(o))),d.interceptors.response.use(o=>{var l;const a=o.config._startTime?Date.now()-o.config._startTime:null;if(console.groupCollapsed(`‚úÖ Axios Response: ${((l=o.config.method)==null?void 0:l.toUpperCase())||"GET"} ${o.config.url} ${o.status}${a?` (${a}ms)`:""}`),console.log("Status:",o.status,o.statusText),console.log("URL:",o.config.url),o.headers&&console.log("Response Headers:",o.headers),o.data)if(typeof o.data=="string")o.data.length>500?console.log("Data (string, truncated):",o.data.substring(0,500)+"..."):console.log("Data (string):",o.data);else if(o.data instanceof Blob)console.log("Data (Blob):",{type:o.data.type,size:o.data.size});else try{const e=JSON.stringify(o.data);if(e.length>1e3){const n=JSON.parse(e.substring(0,1e3));console.log("Data (object, truncated):",{...n,_truncated:!0,_originalSize:e.length})}else console.log("Data:",o.data)}catch{console.log("Data:",o.data)}a!==null&&console.log("Duration:",`${a}ms`);const i=new Date().toLocaleTimeString();return console.log("Time:",i),console.groupEnd(),o},o=>{var l,e,n,c,t;const a=(l=o.config)!=null&&l._startTime?Date.now()-o.config._startTime:null;console.groupCollapsed(`‚ùå Axios Error: ${((n=(e=o.config)==null?void 0:e.method)==null?void 0:n.toUpperCase())||"GET"} ${((c=o.config)==null?void 0:c.url)||"Unknown"}${a?` (${a}ms)`:""}`),o.config&&(console.log("URL:",o.config.url),console.log("Method:",((t=o.config.method)==null?void 0:t.toUpperCase())||"GET")),o.response?(console.log("Status:",o.response.status,o.response.statusText),console.log("Response Headers:",o.response.headers),console.log("Response Data:",o.response.data)):o.request?(console.log("No response received"),console.log("Request:",o.request)):console.log("Error Message:",o.message),console.log("Full Error:",o),o.stack&&console.log("Stack:",o.stack),a!==null&&console.log("Duration:",`${a}ms`);const i=new Date().toLocaleTimeString();return console.log("Time:",i),console.groupEnd(),Promise.reject(o)}),console.log("‚úÖ Axios debug logger enabled")}export{f as setupAxiosDebugLogger};
